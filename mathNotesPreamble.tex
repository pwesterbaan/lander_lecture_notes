\documentclass[answers]{exam}
\usepackage{texPreamble} %Local version of my generic preamble file
%TODO move package imports here instead of generic preamble and input
%texShortcutswesterbaan here
% \input{texShortcutsWesterbaan}

%TODO 2025-12-15
%  Moving packages into this preamble file causes issuese with \defineFrontMatter:
% ! You can't use `\spacefactor' in vertical mode.
%\@ ->\spacefactor

\hypersetup{hidelinks}
\usepackage{relsize}
\usepackage{tkz-euclide}
\usepackage[titles]{tocloft}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\usepackage{tabularx}
\usepackage{fontawesome}
\usepackage{slashed}
\extraheadheight{0.25in}
\extrafootheight{1.0in}
\extrawidth{1in}

%Denotes a relation for math125: xRy
\newcommand{\rel}[3][R]{#2\,#1\,#3}
\newcommand{\notrel}[3][R]{#2\,\slashed{#1}\,#3}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Start each subfiles/*.tex with the following:
%\documentclass[mathNotesPreamble]{subfiles}  used to inherit this preamble

%Import each subfile with the following:
%\subfile{<file>}                             pulls content from <file> ignoring its preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{subfiles}

% ----------------------------------------------------------------
\usepgfplotslibrary{statistics}
% https://tex.stackexchange.com/questions/209745/how-to-use-a-macro-to-store-the-default-pgfplot-properties
%use "tikzDefaults" to import these settings
\pgfplotsset{tikzDefaults/.style=
  unbounded coords=jump,
  axis on top,
  axis lines=center,
  axis line style={black,->},
  enlargelimits={value=0.025, auto},
  ticklabel style={font=\footnotesize,inner sep=0.5pt,fill=white,opacity=1.0, text opacity=1},
  xlabel=$x$, xlabel style={at={(ticklabel* cs:1)},anchor=north west},
  ylabel=$y$, ylabel style={at={(ticklabel* cs:1)},anchor=south west},
  every axis plot/.append style={line width=0.95pt, color=lander_blue, samples=255},
}

%variable used to print formula sheet
\newcount\examUnit
\examUnit=-1

%https://tex.stackexchange.com/a/216321/190910
% define main directory depending on file
\providecommand{\subfiles}{./subfiles}
\providecommand{\formulaSheetTitle}[1]{
  %% Manually shift formula sheet title upwards
  \vspace*{-3\baselineskip}
  \smash{\raisebox{\height}{\Large \textbf{#1}}}
}

% Macro to define title page, TOC, formula sheet and formatting
\newcommand{\defineFrontMatter}[3]{%
  \makeatletter
  \title{#1 Class notes\\[0.25\baselineskip]\TheSemester}
  \author{Peter Westerbaan}

  \pagestyle{headandfoot}
  \newcommand{\currentname}{\@currentlabelname}

  %% Title
  \pagenumbering{roman}
  \vspace*{\stretch{1}}
  \begin{center}
    {\huge \@title}\\[\baselineskip]
    To accompany\\ #2 \\[\baselineskip]
    \@author\\[\baselineskip]
    Last updated: \@date\\
  \end{center}
  \vspace*{\stretch{1}}
  \thispagestyle{empty}
  \pagebreak
  \pagestyle{headandfoot}

  %% TOC
  \renewcommand{\contentsname}{Table Of Contents}
  \renewcommand\thesection{}
  \tableofcontents

  \newpage
  %% Formula sheet
  \runningfootrule
  \footer{\parbox{0.45\linewidth}{#1 Formula Sheet}}{\thepage}{\@title}
  \subfile{subfiles/#3_formula_sheet.tex}

  %% everything else
  \firstpageheader{}{}{}
  \firstpagefooter{\parbox{0.45\linewidth}{\currentname}}{\thepage}{\@title}
  \firstpagefootrule
  \runningfooter{\parbox{0.45\linewidth}{\currentname}}{\thepage}{\@title}
  \makeatother
  \pagenumbering{arabic}
  \setcounter{page}{1}
}

\begin{document}
\end{document}